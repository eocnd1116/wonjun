<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Museum Viewer</title>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Noto Sans KR", sans-serif;
      overflow: hidden;

      background-image: url("asset/spr_bg.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .frame {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .gallery {
      display: flex;
      gap: 320px;
      transition: transform 0.8s ease;
    }

    /* ===== 핵심 수정 ===== */
    .art {
      flex: 0 0 auto;
      width: 420px;          /* ★ 슬롯 폭 고정 */
      height: 65vh;          /* ★ 슬롯 높이 고정 */
      display: flex;         /* ★ 중앙 정렬용 */
      align-items: center;
      justify-content: center;

      cursor: pointer;
      opacity: 0.35;
      filter: grayscale(70%);
      transform: scale(0.85);
      transition: transform 0.7s ease, opacity 0.5s ease, filter 0.5s ease;
    }

    .art img {
      width: 150%;
      height: 150%;
      object-fit: contain;   /* ★ 비율 유지 */
      border-radius: 16px;
      display: block;
    }
    /* ===================== */

    .art.active {
      opacity: 1;
      filter: none;
      transform: scale(1.15);
    }

    .art.focused {
      transform: scale(1.15) translateX(-320px);
    }

    .info {
      position: absolute;
      right: 420px;
      width: 420px;
      opacity: 0;
      transition: opacity 0.6s ease;
      pointer-events: none;
    }

    .info.active {
      opacity: 1;
      pointer-events: auto;
    }

    .info h2 {
      margin: 0 0 6px;
      font-size: 28px;
      color: #fff;
      text-shadow: 0 2px 8px rgba(0,0,0,0.6);
    }

    .info .artist {
      font-size: 14px;
      margin-bottom: 22px;
      color: #fff;
      opacity: 0.85;
      text-shadow: 0 2px 8px rgba(0,0,0,0.6);
    }

    .info .desc {
      font-size: 15px;
      line-height: 1.8;
      color: #fff;
      text-shadow: 0 2px 10px rgba(0,0,0,0.65);
    }
  </style>
</head>

<body>
  <div class="frame">
    <div class="gallery" id="gallery">
      <div class="art active"
        data-title="고대의 초상"
        data-artist="알 수 없음"
        data-desc="기원전 2세기에 제작된 것으로 추정되는 이 작품은 인간의 표정을 사실적으로 담아낸 드문 사례로 평가받습니다.">
        <img src="asset/spr_img0.png">
      </div>

      <div class="art"
        data-title="빛의 연구"
        data-artist="레오나르도 V."
        data-desc="빛과 명암의 대비를 통해 공간감을 실험한 작품입니다.">
        <img src="asset/spr_img1.png">
      </div>

      <div class="art"
        data-title="형태의 해체"
        data-artist="마르셀 K."
        data-desc="색과 선의 관계만으로 감정을 표현한 추상 회화입니다.">
        <img src="asset/spr_img2.png">
      </div>
    </div>

    <div class="info" id="info">
      <h2 id="infoTitle"></h2>
      <div class="artist" id="infoArtist"></div>
      <div class="desc" id="infoDesc"></div>
    </div>
  </div>

  <script>
    const gallery = document.getElementById("gallery");
    const arts = document.querySelectorAll(".art");

    const info = document.getElementById("info");
    const infoTitle = document.getElementById("infoTitle");
    const infoArtist = document.getElementById("infoArtist");
    const infoDesc = document.getElementById("infoDesc");

    let index = 0;
    let focused = false;

    const GAP = 320;
    const SLOT_WIDTH = 420;   // ★ 고정 슬롯 폭

    function updateGallery() {
      arts.forEach(a => a.classList.remove("active", "focused"));
      arts[index].classList.add("active");

      focused = false;
      info.classList.remove("active");

      const offset =
        -(SLOT_WIDTH + GAP) * index + (window.innerWidth - SLOT_WIDTH) / 2;

      gallery.style.transform = `translateX(${offset}px)`;
    }

    function showInfo(art) {
      infoTitle.textContent = art.dataset.title;
      infoArtist.textContent = art.dataset.artist;
      infoDesc.textContent = art.dataset.desc;
      info.classList.add("active");
    }

    arts.forEach((art, i) => {
      art.addEventListener("click", () => {
        if (index !== i) {
          index = i;
          updateGallery();
          return;
        }

        if (!focused) {
          art.classList.add("focused");
          showInfo(art);
          focused = true;
        } else {
          art.classList.remove("focused");
          info.classList.remove("active");
          focused = false;
        }
      });
    });

    updateGallery();
  </script>

</body>
</html>